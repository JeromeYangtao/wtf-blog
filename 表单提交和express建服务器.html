<title>表单提交/express建服务器</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<img class="logo" src="logo.png">

<x-markdown>
想实现一个表单提交后跳转页面的功能，搜索了不少资源和博客，最后实现了功能。不过学习过程中发现，不少教程对新人不少很友好，于是趁着自己刚学，更能明白新人的心情，写了这篇博客，也是对自己的一次总结复习。


理论其他教程和书说了很多了，这里就不赘述，**只讲操作**，方便新人先做出一个东西，然后再深入理解。**知其然，后知其所以然**

在GitHub上传了所有的代码:https://github.com/JeromeYangtao/Windows
代码中有些是博客中没有提到的，都是自己测试时使用的，可以不管他
### 1.创建目录，新建文件
![这是最终目录](http://upload-images.jianshu.io/upload_images/3474707-d902430ed03751ef.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

**新建一个app_demo文件夹**，用来存放这个demo所有的文件

在这个目录下创建**package.json**和**app.js**两个文件

![](http://upload-images.jianshu.io/upload_images/3474707-b0ed3925a32ca95f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

这是package.json的全部内容：
![package的内容](http://upload-images.jianshu.io/upload_images/3474707-a9d1882e11497662.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
>把整个app_demo看做一个包，json文件是用来描述整个包的信息。
**name** 属性描述的是这个包的名字。
**main**属性描述的是这个包的默认执行文件，node app_demo和node app.js是一样的效果
**dependencies**属性描述的是依赖的第三方库，*表示引用最新版  

### 2.下载第三方依赖包
在命令行中执行这个命令，把我们需要的第三方库下载下来
![](http://upload-images.jianshu.io/upload_images/3474707-2a97f3e1d806cfe5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
可以看到我们的app_demo目录下多了一个叫node_modules的文件夹，里面有我们需要的依赖包

![Paste_Image.png](http://upload-images.jianshu.io/upload_images/3474707-001162aec0b33c83.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 3.创建一个public文件夹并在下面建立一个test.html文件

![](http://upload-images.jianshu.io/upload_images/3474707-3f3f76ad0d0d614c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
写一个最简单的表单
![](http://upload-images.jianshu.io/upload_images/3474707-85fa0dd41f0d9625.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

### 4.编写app.js文件
引用并创建express对象
```
var express = require('express');
var app = express();
```
监听端口(使用默认的80端口)
```
app.listen(80);
```
到此为止，一个最简单服务就键好了。只需要在命令行中运行即可,不过这个服务没有任何意义，因为没有任何的业务代码.

**发起一个请求，执行index.html文件**
```
app.get('/', function(request, response) {
    response.sendFile(__dirname + '/public/index.html');
});
```
**当收到post请求(提交表单)时，返回一个响应**
```
app.post('/user', function(request, response) {
        response.send('login success');
    })
```


现在，启动服务，打开localhost就能测试刚刚实现的功能了
</x-markdown>

<link rel="stylesheet" href="css/default.css">
<script src="js/marked.min.js"></script>
<script src="js/main.js"></script>
